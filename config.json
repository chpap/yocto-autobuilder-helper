{
    "BASE_HOMEDIR" : "/home/pokybuild",
    "BASE_SHAREDDIR" : "/srv/autobuilder/autobuilder.yocto.io",
    "BASE_PUBLISHDIR" : "/srv/autobuilder/downloads.yoctoproject.org",

    "BUILD_HISTORY_DIR" : "buildhistory",
    "BUILD_HISTORY_REPO" : "ssh://git@push.yoctoproject.org/poky-buildhistory",
    "BUILD_HISTORY_DIRECTPUSH" : ["poky:morty", "poky:pyro", "poky:rocko", "poky:sumo", "poky:thud", "poky:warrior", "poky:zeus", "poky:dunfell", "poky:gatesgarth", "poky:hardknott", "poky:honister", "poky:kirkstone", "poky:master"],
    "BUILD_HISTORY_FORKPUSH" : {"poky-contrib:ross/mut" : "poky:master", "poky:master-next" : "poky:master"},

    "BUILDTOOLS_URL" : "https://downloads.yoctoproject.org/releases/yocto/yocto-4.3/buildtools/x86_64-buildtools-extended-nativesdk-standalone-4.3.sh",
    "BUILDTOOLS_ARM_URL" : "https://downloads.yoctoproject.org/releases/yocto/yocto-4.3/buildtools/aarch64-buildtools-extended-nativesdk-standalone-4.3.sh",

    "REPO_STASH_DIR" : "${BASE_HOMEDIR}/git/mirror",
    "TRASH_DIR" : "${BASE_HOMEDIR}/git/trash",

    "QAMAIL_TO" : "yocto@lists.yoctoproject.org",
    "QAMAIL_CC" : "qa-build-notification@lists.yoctoproject.org",
    "WEBPUBLISH_DIR" : "${BASE_SHAREDDIR}/",
    "WEBPUBLISH_URL" : "https://autobuilder.yocto.io/",

    "BUILDPERF_STATEDIR" : "${BASE_HOMEDIR}/buildperf",
    "BUILDPERF_RESULTSDIR" : "${BASE_HOMEDIR}/buildperf-results",

    "AUTOBUILDER_HASHSERV_RAWSOCKET" : "hashserv.yocto.io:8686",

    "defaults" : {
        "NEEDREPOS" : ["poky"],
        "DISTRO" : "poky",
        "MACHINE" : "qemux86-64",
        "SDKMACHINE" : "i686",
        "PACKAGE_CLASSES" : "package_rpm package_deb package_ipk",
        "DLDIR" : "DL_DIR = '${BASE_SHAREDDIR}/current_sources'",
        "SSTATEDIR" : ["SSTATE_DIR ?= '${BASE_SHAREDDIR}/pub/sstate'"],
        "SSTATEDIR_RELEASE" : ["SSTATE_DIR ?= '${BASE_SHAREDDIR}/pub/sstate'"],
        "SDKEXTRAS" : ["SSTATE_MIRRORS += '\\", "file://.* http://sstate.yoctoproject.org/all/PATH;downloadfilename=PATH'", "BB_HASHSERVE = 'auto'"],
        "BUILDINFO" : false,
        "BUILDHISTORY" : false,
        "BUILDINFOVARS" : ["INHERIT += 'image-buildinfo'", "IMAGE_BUILDINFO_VARS:append = ' IMAGE_BASENAME IMAGE_NAME'"],
        "WRITECONFIG" : true,
        "SENDERRORS" : true,
        "extravars" : [
            "QEMU_USE_KVM = 'True'",
            "INHERIT += 'report-error'",
            "PREMIRRORS = ''",
            "BB_GENERATE_MIRROR_TARBALLS = '1'",
            "BB_NUMBER_THREADS = '16'",
            "BB_NUMBER_PARSE_THREADS = '16'",
            "PARALLEL_MAKE = '-j 16 -l 52'",
            "BB_PRESSURE_MAX_CPU = '10000'",
            "BB_PRESSURE_MAX_IO = '10000'",
            "XZ_MEMLIMIT = '5%'",
            "XZ_THREADS = '8'",
            "ZSTD_THREADS = '8'",
            "BB_TASK_NICE_LEVEL = '5'",
            "BB_TASK_NICE_LEVEL:task-testimage = '0'",
            "BB_TASK_IONICE_LEVEL = '2.7'",
            "BB_TASK_IONICE_LEVEL:task-testimage = '2.1'",
            "INHERIT += 'testimage'",
            "TEST_QEMUBOOT_TIMEOUT = '1500'",
            "SANITY_TESTED_DISTROS = ''",
            "SDK_EXT_TYPE = 'minimal'",
            "SDK_INCLUDE_TOOLCHAIN = '1'",
            "ESDK_LOCAL_CONF_REMOVE:append = 'BB_HASHSERVE'",
            "BB_DISKMON_DIRS = 'STOPTASKS,${TMPDIR},1G,100K STOPTASKS,${DL_DIR},1G STOPTASKS,${SSTATE_DIR},1G STOPTASKS,/tmp,100M,30K HALT,${TMPDIR},100M,1K HALT,${DL_DIR},100M HALT,${SSTATE_DIR},100M HALT,/tmp,10M,1K'",
            "BB_HASHSERVE = '${AUTOBUILDER_HASHSERV_RAWSOCKET}'",
            "RUNQEMU_TMPFS_DIR = '/home/pokybuild/tmp'",
            "BB_HEARTBEAT_EVENT = '60'",
            "BB_LOG_HOST_STAT_ON_INTERVAL = '1'",
            "BB_LOG_HOST_STAT_CMDS_INTERVAL = 'oe-time-dd-test.sh -c 100 -t 15'",
            "BB_LOG_HOST_STAT_ON_FAILURE = '1'",
            "BB_LOG_HOST_STAT_CMDS_FAILURE = 'oe-time-dd-test.sh -l'"
        ]
    },
    "templates" : {
        "arch-qemu" : {
            "BUILDINFO" : true,
            "BUILDHISTORY" : true,
            "extravars" : [
                "IMAGE_INSTALL:append = ' ssh-pregen-hostkeys'"
            ],
            "step1" : {
                "BBTARGETS" : "core-image-base core-image-minimal core-image-minimal-dev core-image-base:do_populate_sdk",
                "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-base:do_testimage core-image-base:do_testsdk"
            },
            "step2" : {
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-base:do_populate_sdk core-image-minimal:do_populate_sdk_ext core-image-base:do_populate_sdk_ext",
                "SANITYTARGETS" : "core-image-base:do_testsdk core-image-minimal:do_testsdkext core-image-base:do_testsdkext"
            },
            "step3" : {
                "shortname" : "Machine oe-selftest",
                "BUILDHISTORY" : false,
                "EXTRACMDS" : ["${SCRIPTSDIR}/checkvnc; DISPLAY=:1 oe-selftest ${HELPERSTMACHTARGS} -j 15"],
                "ADDLAYER" : ["${BUILDDIR}/../meta-selftest"]
            }
        },
        "altcfg-qemu" : {
            "DISTRO" : "poky-altcfg",
            "BUILDINFO" : true,
            "BUILDHISTORY" : true,
            "extravars" : [
                "IMAGE_INSTALL:append = ' ssh-pregen-hostkeys'"
            ],
            "step1" : {
                "BBTARGETS" : "core-image-full-cmdline core-image-sato core-image-sato-sdk",
                "SANITYTARGETS" : "core-image-full-cmdline:do_testimage core-image-sato:do_testimage core-image-sato-sdk:do_testimage"
            }
        },
        "ptest-qemu" : {
            "BUILDINFO" : true,
            "BBTARGETS" : "core-image-ptest-all",
            "SANITYTARGETS" : "core-image-ptest-all:do_testimage",
            "extravars" : [
                "TEST_SUITES = 'ping ssh ptest'"
            ]
        },
        "ptest-qemu-fast" : {
            "BUILDINFO" : true,
            "BBTARGETS" : "core-image-ptest-fast",
            "SANITYTARGETS" : "core-image-ptest-fast:do_testimage",
            "extravars" : [
                "TEST_SUITES = 'ping ssh ptest'"
            ]
        },
        "ltp-qemu" : {
            "BUILDINFO" : true,
            "BBTARGETS" : "core-image-sato",
            "SANITYTARGETS" : "core-image-sato:do_testimage",
            "extravars" : [
                "IMAGE_INSTALL:append = ' ltp'",
                "TEST_SUITES = 'ping ssh ltp ltp_compliance'",
                "IMAGE_OVERHEAD_FACTOR = '1.0'",
                "IMAGE_ROOTFS_EXTRA_SPACE = '1324288'",
                "QB_MEM:forcevariable = '-m 1024'"
            ]
        },
        "arch-hw" : {
            "BUILDINFO" : true,
            "step1" : {
                "BBTARGETS" : "core-image-base core-image-minimal core-image-minimal-dev core-image-ptest-all core-image-base:do_populate_sdk",
                "SANITYTARGETS" : "core-image-base:do_testsdk"
            }
        },
        "arch-hw-qemu" : {
            "BUILDINFO" : true,
            "step1" : {
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-minimal core-image-base core-image-base:do_populate_sdk core-image-base:do_populate_sdk_ext",
                "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-base:do_testimage core-image-base:do_testsdk core-image-sato:do_testsdkext"
            },
            "step2" : {
                "shortname" : "Machine oe-selftest",
                "BUILDHISTORY" : false,
                "EXTRACMDS" : ["${SCRIPTSDIR}/checkvnc; DISPLAY=:1 oe-selftest -a -t machine -j 15"]
            }
        },
        "altcfg-hw" : {
            "DISTRO" : "poky-altcfg",
            "BUILDINFO" : true,
            "step1" : {
                "BBTARGETS" : "core-image-full-cmdline core-image-sato core-image-sato-sdk"
            }
        },
        "buildperf" : {
            "MACHINE" : "qemux86",
            "SDKMACHINE" : "x86_64",
            "SSTATEDIR" : ["SSTATE_DIR ?= '${HELPERBUILDDIR}/sstate'"],
            "SSTATEDIR_RELEASE" : ["SSTATE_DIR ?= '${HELPERBUILDDIR}/sstate'"],
            "PACKAGE_CLASSES" : "package_rpm",
            "EXTRAPLAINCMDS" : [
                "${SCRIPTSDIR}/build-perf-test-wrapper -r ${BUILDPERF_RESULTSDIR} -E yocto-perf@lists.yoctoproject.org -d ${BUILDPERF_STATEDIR}/downloads -w ${BASE_HOMEDIR}/build-perf-test -p ${HELPERRESULTSDIR}/${HELPERTARGET} -R ${HELPERREPONAME} -b ${HELPERBRANCHNAME} --push git@push.yoctoproject.org:yocto-buildstats"
            ],
            "extravars" : [
                "BB_NUMBER_THREADS = '24'",
                "BB_NUMBER_PARSE_THREADS = '24'",
                "PARALLEL_MAKE = '-j 24'",
                "DL_DIR = '${BUILDPERF_STATEDIR}/downloads'",
                "CONNECTIVITY_CHECK_URIS = ''",
                "BB_HASHSERVE = 'auto'",
                "BB_LOG_HOST_STAT_CMDS = ''"
            ]
        },
        "selftest" : {
            "MACHINE" : "qemux86-64",
            "SDKMACHINE" : "x86_64",
            "PACKAGE_CLASSES" : "package_rpm",
            "extravars" : [
                "RPM_GPG_SIGN_CHUNK = '1'",
                "IMAGE_INSTALL:append = ' ssh-pregen-hostkeys'"
            ],
            "step1" : {
                "shortname" : "Bitbake Selftest",
                "EXTRACMDS" : ["bitbake-selftest"]
            },
            "step2" : {
                "shortname" : "OE Selftest",
                "EXTRACMDS" : ["${SCRIPTSDIR}/checkvnc; OEQA_DEBUGGING_SAVED_OUTPUT=${BASE_SHAREDDIR}/pub/repro-fail/ DISPLAY=:1 oe-selftest --skip-tests distrodata.Distrodata.test_checkpkg buildoptions.SourceMirroring.test_yocto_source_mirror devtool.DevtoolAddTests.test_devtool_add_npm recipetool.RecipetoolTests.test_recipetool_create_npm reproducible -T machine -T toolchain-user -T toolchain-system -j 15"],
                "ADDLAYER" : ["${BUILDDIR}/../meta-selftest"]
            },
            "step3" : {
                "shortname" : "Python Linter Report",
                "EXTRACMDS" : ["if [ `which oe-pylint` ]; then mkdir -p ${HELPERRESULTSDIR}/${HELPERTARGET}; oe-pylint > ${HELPERRESULTSDIR}/${HELPERTARGET}/pylint.log || true; fi"]
            }
        },
        "reproducible" : {
            "MACHINE" : "qemux86-64",
            "SDKMACHINE" : "x86_64",
            "step1" : {
                "shortname" : "Reproducible Selftest",
                "EXTRACMDS" : ["${SCRIPTSDIR}/checkvnc; OEQA_DEBUGGING_SAVED_OUTPUT=${BASE_SHAREDDIR}/pub/repro-fail/ DISPLAY=:1 oe-selftest -r reproducible"],
                "ADDLAYER" : ["${BUILDDIR}/../meta-selftest"]

            }
        },
        "trigger-build" : {
            "SDKMACHINE" : "x86_64",
            "MACHINE" : "qemux86",
            "step1" : {
                "shortname" : "Sources pre-fetching",
                "BBTARGETS" : "universe -c fetch -k",
                "ADDLAYER" : ["${BUILDDIR}/../meta-selftest"],
                "extravars" : [
                    "SOURCE_MIRROR_FETCH = '1'"
                ]
            },
            "step2" : {
                "removevars" : ["SANITY_TESTED_DISTROS"],
                "shortname" : "Compare AB workers and SANITY_TESTED_DISTROS",
                "EXTRACMDS" : ["${SCRIPTSDIR}/yocto-supported-distros --config-from-web --release-from-env --compare"]
            }
        },
        "trigger-build-posttrigger" : {
            "SDKMACHINE" : "x86_64",
            "MACHINE" : "qemux86",
            "step1" : {
                "shortname" : "Source Mirror Selftest",
                "EXTRACMDS" : ["${SCRIPTSDIR}/checkvnc; DISPLAY=:1 oe-selftest -r buildoptions.SourceMirroring.test_yocto_source_mirror"],
                "ADDLAYER" : ["${BUILDDIR}/../meta-selftest"]
            }
        }

    },
    "overrides" : {
        "qemuarm64" : {
            "MACHINE" : "qemuarm64",
            "TEMPLATE" : "arch-qemu"
        },
        "qemuarm64-armhost" : {
            "MACHINE" : "qemuarm64",
            "BUILDINFO" : true,
            "step1" : {
                "shortname" : "Sources pre-fetching (arm specific)",
                "BBTARGETS" : "universe -c fetch -k",
                "ADDLAYER" : ["${BUILDDIR}/../meta-selftest"],
                "extravars" : [
                    "SOURCE_MIRROR_FETCH = '1'"
                ]
            },
            "step2" : {
                "SDKMACHINE" : "aarch64",
                "BBTARGETS" : "core-image-sato core-image-sato-sdk core-image-minimal core-image-minimal-dev core-image-sato:do_populate_sdk core-image-minimal:do_populate_sdk_ext core-image-sato:do_populate_sdk_ext",
                "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-sato:do_testimage core-image-sato-sdk:do_testimage core-image-sato:do_testsdk  core-image-minimal:do_testsdkext core-image-sato:do_testsdkext"
            }
        },
        "qemuarm64-ptest" : {
            "MACHINE" : "qemuarm64",
            "TEMPLATE" : "ptest-qemu"
        },
        "qemuarm64-ptest-fast" : {
            "MACHINE" : "qemuarm64",
            "TEMPLATE" : "ptest-qemu-fast"
        },
        "delian-jetson" : {
            "NEEDREPOS" : ["poky", "meta-openembedded", "meta-virtualization", "meta-tegra", "meta-tegra-community", "meta-delian"],
            "ADDLAYER" : [
                "${BUILDDIR}/../meta-tegra",
                "${BUILDDIR}/../meta-tegra-community",
                "${BUILDDIR}/../meta-delian/meta-delian-os",
                "${BUILDDIR}/../meta-delian/meta-tegra-support",
                "${BUILDDIR}/../meta-openembedded/meta-oe",
                "${BUILDDIR}/../meta-openembedded/meta-python",
                "${BUILDDIR}/../meta-openembedded/meta-networking",
                "${BUILDDIR}/../meta-openembedded/meta-filesystems"
            ],
            "step1": {
                "shortname": "Build for jetson NX",
                "MACHINE": "jetson-xavier-nx-devkit-emmc",
                "BBTARGETS": "core-image-minimal demo-image-base demo-image-base:do_populate_sdk",
                "SANITYTARGETS" : "demo-image-base:do_testsdk"
                }
        },
        "delian-rpi" : {
            "NEEDREPOS" : ["poky", "meta-raspberrypi", "meta-delian"],
            "ADDLAYER" : [
                "${BUILDDIR}/../meta-delian/meta-delian-os"
            ],
            "step1": {
                "shortname": "Build for raspberrypi",
                "MACHINE": "raspberrypi4",
                "BBTARGETS": "core-image-minimal core-image-base core-image-base:do_populate_sdk",
                "SANITYTARGETS" : "core-image-base:do_testsdk"
                }
        },
        "delian-qemu" : {
            "MACHINE" : "qemux86-64",
            "TEMPLATE" : "arch-qemu",
            "NEEDREPOS" : ["poky", "meta-delian"],
            "ADDLAYER" : [
                "${BUILDDIR}/../meta-delian/meta-delian-os"
            ],
            "step1": {
                "shortname": "Build for qemux86",
                "BBTARGETS": "core-image-minimal core-image-base core-image-base:do_populate_sdk",
                "SANITYTARGETS" : "core-image-base:do_testsdk"
                }
        },
        "meta-arm" : {
            "NEEDREPOS" : ["poky", "meta-arm"],
            "ADDLAYER" : [
                "${BUILDDIR}/../meta-arm/meta-arm-toolchain",
                "${BUILDDIR}/../meta-arm/meta-arm",
                "${BUILDDIR}/../meta-arm/meta-arm-bsp"
            ],
            "step1": {
                "shortname": "Build for fvp-base",
                "MACHINE": "fvp-base",
                "BBTARGETS": "core-image-minimal core-image-sato core-image-sato:do_populate_sdk",
                "SANITYTARGETS" : "core-image-sato:do_testsdk"
                },
            "step2": {
                "shortname": "Build for generic-arm64",
                "MACHINE": "generic-arm64",
                "BBTARGETS": "core-image-minimal core-image-sato core-image-sato:do_populate_sdk",
                "SANITYTARGETS" : "core-image-sato:do_testsdk"
            }
        },
       "bringup" : {
            "BUILDINFO" : true,
            "SSTATEDIR" : ["SSTATE_DIR ?= '${HELPERBUILDDIR}/sstate'"],
            "MACHINE" : "qemuarm64",
             "step1" : {
                 "BBTARGETS" : "core-image-sato core-image-sato-sdk core-image-minimal core-image-minimal-dev core-image-sato:do_populate_sdk",
                 "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-sato:do_testimage core-image-sato-sdk:do_testimage core-image-sato:do_testsdk"
             },
            "step2" : {
                "MACHINE" : "qemux86-64",
                "BBTARGETS" : "core-image-sato core-image-sato-sdk core-image-minimal core-image-minimal-dev core-image-ptest-all core-image-sato:do_populate_sdk",
                "SANITYTARGETS" : "core-image-sato:do_testsdk"

            },
            "step3" : {
                 "SDKMACHINE" : "x86_64",
                 "BBTARGETS" : "core-image-sato:do_populate_sdk core-image-minimal:do_populate_sdk_ext core-image-sato:do_populate_sdk_ext",
                 "SANITYTARGETS" : "core-image-sato:do_testsdk core-image-minimal:do_testsdkext core-image-sato:do_testsdkext"
             },
            "step4" : {
                "MACHINE" : "qemux86-64",
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-minimal:do_populate_sdk_ext core-image-sato:do_populate_sdk"
            },
            "step5" : {
                "BUILDINFO" : false,
                "MACHINE" : "qemux86-64",
                "SDKMACHINE" : "x86_64",
                "PACKAGE_CLASSES" : "package_rpm",
                "extravars" : [
                    "RPM_GPG_SIGN_CHUNK = '1'"
                ],
                "EXTRACMDS" : ["${SCRIPTSDIR}/checkvnc; DISPLAY=:1 oe-selftest --skip-tests distrodata.Distrodata.test_checkpkg buildoptions.SourceMirroring.test_yocto_source_mirror devtool.DevtoolAddTests.test_devtool_add_npm recipetool.RecipetoolTests.test_recipetool_create_npm -T machine -T toolchain-user -T toolchain-system -j 15"],
                "ADDLAYER" : ["${BUILDDIR}/../meta-selftest"]
            }
        },
        "qemux86-64" : {
            "MACHINE" : "qemux86-64",
            "TEMPLATE" : "arch-qemu",
            "step1" : {
                "extravars" : [
                     "IMAGE_FSTYPES:append = ' wic wic.bmap'"
                ]
            }
        },
        "qemux86-64-ptest" : {
            "MACHINE" : "qemux86-64",
            "TEMPLATE" : "ptest-qemu"
        },
        "qemux86-64-ptest-fast" : {
            "MACHINE" : "qemux86-64",
            "TEMPLATE" : "ptest-qemu-fast"
        },
        "qemux86-64-ltp" : {
            "MACHINE" : "qemux86-64",
            "TEMPLATE" : "ltp-qemu"
        },
        "pkgman-rpm-non-rpm" : {
            "MACHINE" : "qemux86-64",
            "PACKAGE_CLASSES" : "package_rpm",
            "BBTARGETS" : "core-image-sato core-image-sato-sdk core-image-minimal core-image-minimal-dev",
            "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-sato:do_testimage core-image-sato-sdk:do_testimage"
        },
        "pkgman-deb-non-deb" : {
            "MACHINE" : "qemux86-64",
            "PACKAGE_CLASSES" : "package_deb",
            "BBTARGETS" : "core-image-sato core-image-sato-sdk core-image-minimal core-image-minimal-dev core-image-sato:do_populate_sdk",
            "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-sato:do_testimage core-image-sato-sdk:do_testimage core-image-sato:do_testsdk"
        },
        "pkgman-non-rpm" : {
            "MACHINE" : "qemux86-64",
            "step1" : {
                "PACKAGE_CLASSES" : "package_ipk",
                "BBTARGETS" : "core-image-sato core-image-sato-sdk core-image-minimal core-image-minimal-dev",
                "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-sato:do_testimage core-image-sato-sdk:do_testimage"
            },
            "step2" : {
                "PACKAGE_CLASSES" : "package_deb",
                "BBTARGETS" : "core-image-sato core-image-sato-sdk core-image-minimal core-image-minimal-dev",
                "SANITYTARGETS" : "core-image-minimal:do_testimage core-image-sato:do_testimage core-image-sato-sdk:do_testimage"
            }
        },
        "wic" : {
            "BUILDINFO" : true,
            "extravars" : [
                "IMAGE_FSTYPES += ' hddimg'",
                "MACHINE_FEATURES:append = ' efi'"
            ],
            "step1" : {
                "MACHINE" : "qemux86-64",
                "shortname" : "qemux86-64 wic",
                "BBTARGETS" : "wic-tools core-image-sato",
                "EXTRACMDS" : [
                    "wic create directdisk -e core-image-sato -o ${BUILDDIR}/tmp/deploy/wic_images/qemux86-64/directdisk/core-image-sato/",
                    "wic create directdisk-gpt -e core-image-sato -o ${BUILDDIR}/tmp/deploy/wic_images/qemux86-64/directdisk/core-image-sato/",
                    "wic create mkefidisk -e core-image-sato -o ${BUILDDIR}/tmp/deploy/wic_images/qemux86-64/directdisk/core-image-sato/"
                ]
            }
        },
        "buildtools" : {
            "MACHINE" : "qemux86-64",
            "extravars" : [
                "PACKAGECONFIG:pn-nativesdk-python3:append = ' pgo'"
            ],
            "step1" : {
                "SDKMACHINE" : "x86_64",
                "shortname" : "x86_64 tools",
                "BBTARGETS" : "buildtools-tarball buildtools-extended-tarball uninative-tarball",
                "SANITYTARGETS" : "buildtools-tarball:do_testsdk buildtools-extended-tarball:do_testsdk"
            },
            "step2" : {
                "SDKMACHINE" : "aarch64",
                "shortname" : "aarch64 tools",
                "BBTARGETS" : "buildtools-tarball buildtools-extended-tarball uninative-tarball"
            }
        },
        "build-appliance" : {
            "MACHINE" : "qemux86-64",
            "DLDIR" : "DL_DIR ?= '${TOPDIR}/downloads'",
            "BUILDAPP_SRCREV" : ["SRCREV_pn-build-appliance-image = '@SRCREV@'", "PV:append:pn-build-appliance-image = '+git${SRCPV}'"],
            "BBTARGETS" : "core-image-minimal core-image-full-cmdline",
            "extravars" : [
                "SOURCE_MIRROR_FETCH = '1'",
                "INHERIT += 'own-mirrors'",
                "SOURCE_MIRROR_URL = 'file://${BASE_SHAREDDIR}/current_sources'"
            ],
            "step1" : {
                "shortname" : "Universe fetch",
                "BBTARGETS" : "universe -k -c fetch"
            },
            "step2" : {
                "shortname" : "BA image build",
                "BBTARGETS" : "build-appliance-image"
            }
        },
        "checkuri" : {
            "MACHINE" : "qemux86",
            "SDKMACHINE" : "x86_64",
            "BBTARGETS" : "universe:do_checkuri",
            "extravars" : [
                "SOURCE_MIRROR_FETCH = '1'",
                "BB_NUMBER_THREADS = '1'",
                "do_checkuri:pn-lsof = ''"
            ]
        },
        "oe-selftest" : {
            "TEMPLATE" : "selftest"
        },
        "oe-selftest-ubuntu" : {
            "TEMPLATE" : "selftest"
        },
        "oe-selftest-arm" : {
            "MACHINE": "qemuarm64",
            "TEMPLATE" : "selftest"
        },
        "oe-selftest-armhost" : {
            "SDKMACHINE": "aarch64",
            "TEMPLATE" : "selftest"
        },
        "reproducible" : {
            "TEMPLATE" : "reproducible"
        },
        "reproducible-ubuntu" : {
            "TEMPLATE" : "reproducible"
        },
        "check-layer" : {
            "NEEDREPOS" : ["poky"],
            "DISTRO" : "nodistro",
            "step1" : {
                "EXTRACMDS" : ["bitbake-layers remove-layer ../meta-poky; yocto-check-layer ../meta-poky"]
            },
            "step2" : {
                "EXTRACMDS" : ["bitbake-layers remove-layer ../meta-yocto-bsp; yocto-check-layer ../meta-yocto-bsp"]
            }
        },
        "check-layer-nightly" : {
            "NEEDREPOS" : ["poky", "meta-arm", "meta-openembedded", "meta-virtualization"],
            "step1" : {
                "shortname" : "Test meta-arm YP Compatibility",
                "MACHINE" : "qemuarm64",
                "EXTRACMDS" : ["yocto-check-layer-wrapper ../meta-arm/meta-arm ../meta-arm/meta-arm-toolchain ../meta-arm/meta-arm-bsp ../meta-arm/meta-gem5 ../meta-arm/meta-arm-autonomy --dependency ../meta-openembedded/meta-oe ../meta-openembedded/meta-multimedia ../meta-openembedded/meta-networking ../meta-openembedded/meta-python ../meta-poky ../meta-openembedded/meta-filesystems ../meta-virtualization --no-auto-dependency"]
            },
            "step2" : {
                "shortname" : "Test meta-oe YP Compatibility",
                "EXTRACMDS" : ["yocto-check-layer-wrapper ../meta-openembedded --no-auto-dependency"]
            },
            "step3" : {
                "shortname" : "Test meta-virtualization YP Compatibility",
                "EXTRACMDS" : ["yocto-check-layer-wrapper ../meta-virtualization --dependency ../meta-openembedded/meta-oe ../meta-openembedded/meta-multimedia ../meta-openembedded/meta-networking ../meta-openembedded/meta-python ../meta-openembedded/meta-filesystems --no-auto-dependency"]
            }
        },
        "metrics" : {
            "NEEDREPOS" : ["poky", "meta-openembedded"],
            "extravars" : [
                "INHERIT += 'cve-check'",
                "BB_DISKMON_DIRS = ''",
                "CVE_CHECK_FORMAT_JSON = '1'",
                "CVE_CHECK_SHOW_WARNINGS = '0'",
                "CVE_DB_UPDATE_INTERVAL = '21600'",
                "LICENSE_FLAGS_ACCEPTED = 'commercial'",
                "BB_SERVER_TIMEOUT = '0'"
            ],
            "step1" : {
                "shortname" : "Fetching metrics repositories",
                "EXTRAPLAINCMDS" : [
                    "git clone ssh://git@push.yoctoproject.org/yocto-metrics && git clone ssh://git@push.yoctoproject.org/yocto-metrics-meta-oe",
                    "install -D ${SCRIPTSDIR}/cvecheck/cvelayer.bbclass ./build/classes/cvelayer.bbclass"
                ]
            },
            "step2" : {
                "shortname" : "CVE checks for meta",
                "EXTRACMDS" : ["${SCRIPTSDIR}/run-cvecheck --metrics ../yocto-metrics --branch ${HELPERBRANCHNAME} --results ${HELPERRESULTSDIR}/../../patchmetrics --push"]
            },
            "step3" : {
                "shortname" : "CVE checks for meta-oe",
                "ADDLAYER" : [
                    "${BUILDDIR}/../meta-openembedded/meta-oe",
                    "${BUILDDIR}/../meta-openembedded/meta-python",
                    "${BUILDDIR}/../meta-openembedded/meta-perl",
                    "${BUILDDIR}/../meta-openembedded/meta-networking",
                    "${BUILDDIR}/../meta-openembedded/meta-multimedia",
                    "${BUILDDIR}/../meta-openembedded/meta-gnome",
                    "${BUILDDIR}/../meta-openembedded/meta-xfce",
                    "${BUILDDIR}/../meta-openembedded/meta-filesystems",
                    "${BUILDDIR}/../meta-openembedded/meta-initramfs",
                    "${BUILDDIR}/../meta-openembedded/meta-webserver"
                    ],
                "extravars" : [
                    "INHERIT += 'cvelayer'",
                    "SKIP_PATHS += '${TOPDIR}/../meta'"
                ],
                "EXTRACMDS" : ["${SCRIPTSDIR}/run-cvecheck --metrics ../yocto-metrics-meta-oe --branch ${HELPERBRANCHNAME} --results ${HELPERRESULTSDIR}/../../patchmetrics-meta-oe --push"]
            }
        },
        "meta-oe" : {
            "NEEDREPOS" : ["poky", "meta-openembedded"],
            "MACHINE" : "qemux86-64",
            "step1" : {
                "shortname" : "Test meta-oe YP Compatibility",
                "EXTRACMDS" : ["yocto-check-layer-wrapper ../meta-openembedded"]
            },
            "step2" : {
                "ADDLAYER" : [
                    "${BUILDDIR}/../meta-openembedded/meta-oe",
                    "${BUILDDIR}/../meta-openembedded/meta-python",
                    "${BUILDDIR}/../meta-openembedded/meta-networking",
                    "${BUILDDIR}/../meta-openembedded/meta-filesystems"
                ],
                "BBTARGETS" : "world -k"
            }
        },
        "meta-virt" : {
            "NEEDREPOS" : ["poky", "meta-openembedded", "meta-virtualization"],
            "ADDLAYER" : [
                "${BUILDDIR}/../meta-openembedded/meta-oe",
                "${BUILDDIR}/../meta-openembedded/meta-python",
                "${BUILDDIR}/../meta-openembedded/meta-networking",
                "${BUILDDIR}/../meta-openembedded/meta-filesystems",
                "${BUILDDIR}/../meta-virtualization"
            ],
            "extravars" : [
                "DISTRO_FEATURES:append = ' virtualization xen'"
            ],
            "step1" : {
                "shortname": "Xen for qemux86-64",
                "MACHINE": "qemux86-64",
                "BBTARGETS" : "xen-image-minimal"
            },
            "step2" : {
                "shortname": "Xen for qemuarm64",
                "MACHINE": "qemuarm64",
                "BBTARGETS" : "xen-image-minimal"
            }
        },
        "qa-extras" : {
            "MACHINE" : "qemux86-64",
            "step1" : {
                "shortname" : "Readonly rootfs",
                "BBTARGETS" : "core-image-minimal",
                "SANITYTARGETS" : "core-image-minimal:do_testimage",
                "extravars" : [
                    "IMAGE_FEATURES:append = ' read-only-rootfs'"
                ]
            },
            "step2" : {
                "shortname" : "ROOT_HOME testing",
                "BBTARGETS" : "core-image-minimal",
                "SANITYTARGETS" : "core-image-minimal:do_testimage",
                "extravars" : [
                    "ROOT_HOME = '/root'"
                ]
            },
            "step3" : {
                "shortname" : "Full eSDK type",
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-minimal:do_populate_sdk_ext",
                "extravars" : [
                    "SDK_EXT_TYPE = 'full'"
                ]
            },
            "step4" : {
                "shortname" : "Prep locked-sigs test",
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-sato core-image-sato:do_populate_sdk_ext"
            },
            "step5" : {
                "shortname" : "Prep #2 locked-sigs test",
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-sato -S none",
                "EXTRACMDS" : ["${SCRIPTSDIR}/../janitor/clobberdir ${BUILDDIR}/../build/tmp"]
            },
            "step6" : {
                "shortname" : "Test locked-sigs image",
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-sato",
                "extravars" : [
                    "TMPDIR = '${TOPDIR}/newtmp'",
                    "require ../locked-sigs.inc"
                ]
            },
            "step7" : {
                "shortname" : "Test locked-sigs eSDK",
                "SDKMACHINE" : "x86_64",
                "BBTARGETS" : "core-image-sato:do_populate_sdk_ext",
                "extravars" : [
                    "TMPDIR = '${TOPDIR}/sdktmp'"
                ]
            }
        },
        "qa-extras2" : {
            "MACHINE" : "qemux86-64",
            "step1" : {
                "shortname" : "Test logrotate",
                "BBTARGETS" : "core-image-sato",
                "SANITYTARGETS" : "core-image-sato:do_testimage",
                "extravars" : [
                    "IMAGE_INSTALL:append = ' logrotate'",
                    "TEST_SUITES:append = ' logrotate'"
                ]
            },
            "step2" : {
                "BBTARGETS" : "core-image-sato",
                "SANITYTARGETS" : "core-image-sato:do_testimage",
                "extravars" : [
                    "DISTRO_FEATURES:append = ' pam'",
                    "TEST_SUITES:append = ' pam'"
                ]
            },
            "step3" : {
                "shortname" : "Test skeletoninit",
                "BBTARGETS" : "core-image-sato",
                "SANITYTARGETS" : "core-image-sato:do_testimage",
                "extravars" : [
                    "IMAGE_INSTALL:append = ' service hello-mod'",
                    "TEST_SUITES:append = ' skeletoninit'"
                ],
                "ADDLAYER" : ["${BUILDDIR}/../meta-skeleton"]
            },
            "step4" : {
                "shortname" : "Systemd with sysvinit compat",
                "BBTARGETS" : "core-image-sato",
                "SANITYTARGETS" : "core-image-sato:do_testimage",
                "extravars" : [
                    "DISTRO_FEATURES:append = ' systemd'",
                    "VIRTUAL-RUNTIME_init_manager = 'systemd'",
                    "TEST_SUITES:append = ' systemd'"
                ]
            },
            "step5" : {
                "shortname" : "Sysvinit with systemd",
                "BBTARGETS" : "core-image-sato",
                "SANITYTARGETS" : "core-image-sato:do_testimage",
                "extravars" : [
                    "DISTRO_FEATURES:append = ' systemd'",
                    "VIRTUAL-RUNTIME_init_manager = 'sysvinit'"
                ]
            },
            "step6" : {
                "shortname" : "Systemd",
                "BBTARGETS" : "core-image-sato",
                "SANITYTARGETS" : "core-image-sato:do_testimage",
                "extravars" : [
                    "TEST_SUITES:append = ' systemd'",
                    "DISTRO_FEATURES:append = ' systemd'",
                    "VIRTUAL-RUNTIME_init_manager = 'systemd'",
                    "DISTRO_FEATURES_BACKFILL_CONSIDERED = 'sysvinit'"
                ]
            },
            "step7" : {
                "shortname" : "Mesa gallium-llvm",
                "BBTARGETS" : "core-image-sato",
                "SANITYTARGETS" : "core-image-sato:do_testimage",
                "extravars" : [
                    "PACKAGECONFIG:append:x86-64:pn-mesa = ' gallium-llvm gallium r600'"
                ]

            }
        },
        "eclipse-plugin-neon" : {
            "NEEDREPOS" : ["eclipse-poky-neon"],
            "WRITECONFIG" : false,
            "SENDERRORS" : false,
            "EXTRAPLAINCMDS" : [
                "cd scripts; ./setup.sh; ECLIPSE_HOME=`pwd`/eclipse/ ./build.sh neon-master master development"
            ]

        },
        "eclipse-plugin-oxygen" : {
            "NEEDREPOS" : ["eclipse-poky-oxygen"],
            "WRITECONFIG" : false,
            "SENDERRORS" : false,
            "EXTRAPLAINCMDS" : [
                "cd scripts; ./setup.sh; ECLIPSE_HOME=`pwd`/eclipse/ ./build.sh oxygen-master master development"
            ]
        },
        "buildperf-debian11" : {
            "TEMPLATE" : "buildperf"
        },
        "auh" : {
            "EXTRAPLAINCMDS" : [
                "${SCRIPTSDIR}/setup-auh ${HELPERBUILDDIR}; ${SCRIPTSDIR}/run-auh ${HELPERBUILDDIR}"
            ]
        },
        "meta-oe-mirror" : {
            "SDKMACHINE" : "x86_64",
            "MACHINE" : "qemux86-64",
            "NEEDREPOS" : ["poky", "meta-openembedded"],
            "ADDLAYER" : [
                "${BUILDDIR}/../meta-selftest",

                "${BUILDDIR}/../meta-openembedded/meta-oe",
                "${BUILDDIR}/../meta-openembedded/meta-python",
                "${BUILDDIR}/../meta-openembedded/meta-perl",
                "${BUILDDIR}/../meta-openembedded/meta-networking",
                "${BUILDDIR}/../meta-openembedded/meta-multimedia",
                "${BUILDDIR}/../meta-openembedded/meta-gnome",
                "${BUILDDIR}/../meta-openembedded/meta-xfce",
                "${BUILDDIR}/../meta-openembedded/meta-filesystems",
                "${BUILDDIR}/../meta-openembedded/meta-initramfs",
                "${BUILDDIR}/../meta-openembedded/meta-webserver"
            ],
            "extravars" : [
                "LICENSE_FLAGS_ACCEPTED = 'commercial'",
                "DISTRO_FEATURES:append = ' pam systemd usrmerge'",
                "FORTRAN:forcevariable = ',fortran'",
                "RUNTIMETARGET:append:pn-gcc-runtime = ' libquadmath'"
            ],
            "step1" : {
                "shortname" : "Sources pre-fetching",
                "BBTARGETS" : "universe -c fetch -k",
                "extravars" : [
                    "SOURCE_MIRROR_FETCH = '1'"
                ]
            },
            "step2" : {
                    "shortname" : "Source Mirror Selftest",
                    "EXTRACMDS" : ["${SCRIPTSDIR}/checkvnc; DISPLAY=:1 oe-selftest -r buildoptions.SourceMirroring.test_yocto_source_mirror"]
            }
        },
        "a-quick" : {
            "TEMPLATE" : "trigger-build"
        },
        "a-quick-posttrigger" : {
            "TEMPLATE" : "trigger-build-posttrigger"
        },
        "a-full" : {
            "TEMPLATE" : "trigger-build"
        },
        "a-full-posttrigger" : {
            "TEMPLATE" : "trigger-build-posttrigger"
        }
    },
    "repo-defaults" : {
        "poky" : {
            "url" : "ssh://git@push.yoctoproject.org/poky",
            "branch" : "kirkstone",
            "revision" : "HEAD",
            "checkout-dirname" : ".",
            "no-layer-add" : true,
            "call-init" : true
        },
        "oecore" : {"url" : "ssh://git@push.openembedded.org/openembedded-core",
            "branch" : "kirkstone",
            "revision" : "HEAD",
            "checkout-dirname" : ".",
            "no-layer-add" : true,
            "call-init" : true
        },
        "bitbake" : {
            "url" : "ssh://git@push.openembedded.org/bitbake",
            "branch" : "2.0",
            "revision" : "HEAD",
            "no-layer-add" : true
        },
        "meta-virtualization" : {
            "url" : "ssh://git@push.yoctoproject.org/meta-virtualization",
            "branch" : "kirkstone",
            "revision" : "HEAD",
            "no-layer-add" : true
        },
        "meta-openembedded" : {
            "url" : "ssh://git@push.openembedded.org/meta-openembedded",
            "branch" : "kirkstone",
            "revision" : "HEAD",
            "no-layer-add" : true
        },
        "meta-arm" : {
            "url" : "ssh://git@push.yoctoproject.org/meta-arm",
            "branch" : "kirkstone",
            "revision" : "HEAD",
            "no-layer-add" : true
        },
        "meta-security" : {
            "url" : "ssh://git@push.yoctoproject.org/meta-security",
            "branch" : "kirkstone",
            "revision" : "HEAD",
            "no-layer-add" : true
        },
        "meta-delian" : {
            "url" : "ssh://git@github.com/chpap/meta-delian",
            "branch" : "kirkstone",
            "revision" : "HEAD",
            "no-layer-add" : true
        }
    },
    "buildtools" : {
        "ubuntu1604*" : "${BUILDTOOLS_URL}",
        "ubuntu1804-ty-*" : "${BUILDTOOLS_URL}",
        "ubuntu1804-arm-*" : "${BUILDTOOLS_ARM_URL}",
        "perf-ubuntu1604*" : "${BUILDTOOLS_URL}"
    }
}
